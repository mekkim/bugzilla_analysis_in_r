<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-dark.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <title>Bugzilla analysis in r by mekkim</title>
  </head>

  <body>
    <div id="container">
      <div class="inner">

        <header>
          <h1>Bugzilla analysis in r</h1>
          <h2>Analyzing the Mozilla Bugzilla database using R</h2>
        </header>

        <section id="downloads" class="clearfix">
          <a href="https://github.com/mekkim/bugzilla_analysis_in_r/zipball/master" id="download-zip" class="button"><span>Download .zip</span></a>
          <a href="https://github.com/mekkim/bugzilla_analysis_in_r/tarball/master" id="download-tar-gz" class="button"><span>Download .tar.gz</span></a>
          <a href="https://github.com/mekkim/bugzilla_analysis_in_r" id="view-on-github" class="button"><span>View on GitHub</span></a>
        </section>

        <hr>

        <section id="main_content">
          <p>Analyzing Mozilla's Bugzilla Database Using R   </p>

<p>Â© 2015 by Mekki MacAulay, <a href="mailto:mekki@mekki.ca">mekki@mekki.ca</a> <a href="http://mekki.ca">http://mekki.ca</a> <a href="http://twitter.com/mekki">http://twitter.com/mekki</a><br>
Some rights reserved.                                                                           </p>

<p>This program is free and open source software. The author licenses it<br>
to you under the terms of the GNU General Public License (GPL), as<br>
published by the Free Software Foundation, either version 3, or<br>
(at your option) any later version (GPLv3+).                            </p>

<p>There is NO WARRANTY for this software, express or implied, including<br>
the implied warranties of MERCHANTABILITY or FITNESS FOR A PARTICULAR<br>
PURPOSE. See the GNU General Public License for more details.           </p>

<p>For the full text of the GNU General Public License, please visit<br>
<a href="http://gnu.org/licenses/">http://gnu.org/licenses/</a><br>
Should you require an alternative licensing arrangement for this<br>
software, please contact the author.                                    </p>

<p>To execute the script file in R, use the following commands:</p>

<p>setwd('');
source('.r', echo=TRUE, max.deparse.length=100000, keep.source=TRUE, verbose=TRUE);
(These source() parameters ensure that the R shell outputs the script commands and responses. Otherwise, they're hidden by default.)</p>

<p>Or, from the command prompt directly as follows (assuming R binary is in the PATH environment variable):
cd 
R CMD BATCH .r
CAT .Rout
(The CAT is necessary because by default R output writes to file, not command prompt)</p>

<p>This script depends on the presence of an updated R installation along with a
MySQL installation containing the Mozilla Bugzilla database and a
PHP utility script for domain name parsing</p>

<p>The following sections describe the process for installing these necesities</p>

<p>INSTALL MYSQL SERVER</p>

<p>Visit: <a href="https://dev.mysql.com/downloads/windows/installer/5.5.html">https://dev.mysql.com/downloads/windows/installer/5.5.html</a></p>

<p>Download the MySQL MSI installer for Windows
(Version 5.5.44 will do just fine - Later versions have the annoying Oracle installer that makes things more complicated)</p>

<p>Run the installer as administrator and complete the MySQL install with default settings (or minor tweaks if you wish)
During install, set the  default username to "root" and password to "password" in the configuration
Default host will be "localhost" and default port will be "3306"</p>

<p>Test connection to ensure it is working with the MySQL Workbench client that is also installed with the package
Once connected with the MySQL Workbench client, under the menu "Server", select "Options File"
Click on the "Networking" tab
Check the box for "max_allowed_packet" and set its value to "1G" or a suitable large number
Click "Apply" and then restart the server
(In the Navigator pane, click on "Startup / Shutdown" then click "Stop Server" in the main window, followed by "Start Server)</p>

<p>RESTORE BUGZILLA DATABASE (Current version includes data until end of 2012)</p>

<p>Decompress/untar the Bugzilla database.  The result is a MySQL-formatted dumpfile with a .sql extension
I'll assume that the file name is "2013_01_sanitized_bugzilla.sql". If it's not, change the name in the commands below.
This dumpfile only works with MySQl databases.  It cannot be restored to other databases such as SQLite, PostGRESQL, MSSQL, etc.
It is also sufficiently complex that scripts cannot readily be used to convert it to a dumpfile of a different format</p>

<p>From the command prompt, issue the following 3 commands one by one:</p>

<p>mysql -uroot -ppassword -e 'DROP DATABASE bugs;'
mysql -uroot -ppassword -e 'CREATE DATABASE bugs;'
mysql -uroot -ppassword bugs &lt; 2013_01_sanitized_bugzilla.sql</p>

<p>The result will be a database named "bugs" on the MySQL server, filled with the Bugzilla data</p>

<p>The "bugs" database will be kept as our "pristine" copy of the data so that we don't have to restore it from
the dumpfile if something goes wrong. This step isn't strictly necessary, but it never hurts to be safe.
We'll only work on a duplicate of the "bugs" database that we can always recreate from the pristine copy if something breaks</p>

<p>To create a duplicate of the "bugs" database, which we will call "working",
from the command prompt, issue the following command:</p>

<p>mysqldbcopy --source=root:password@localhost --destination=root:password@localhost bugs:working</p>

<p>INSTALL AND CONFIGURE R (Statistical package) or RRO (Revolution R Open enhanced R distribution)</p>

<p>Visit: <a href="http://cran.utstat.utoronto.ca/bin/windows/base/">http://cran.utstat.utoronto.ca/bin/windows/base/</a></p>

<p>Download the installer for the latest version for Windows (32/64 bit)</p>

<p>Alternatively, visit: <a href="http://mran.revolutionanalytics.com/download/download">http://mran.revolutionanalytics.com/download/download</a></p>

<p>Download the installer for the latest version of Revolution R Open, RRO, an alternative R distribution
primarily developed by Revolution Analytics (<a href="http://revolutionanalytics.com/">http://revolutionanalytics.com/</a>), which is also open source
Revolution Analytics maintains a Managed R Archive Network (MRAN) that mirrors the base CRAN with optimizations</p>

<p>This script might execute slightly faster with RRO vs base R, but no large changes have been noted yet.</p>

<p>You are encouraged to use an R or RRO version of at least 3.2.x as versions 3.1.3 and earlier execute this script significantly
slower (~45% speed decrease), likely due to different memory heap management discussed here:
<a href="http://cran.r-project.org/src/base/NEWS">http://cran.r-project.org/src/base/NEWS</a></p>

<p>Run the installer (either one) as administrator and complete the R install with default settings (or minor tweaks if you wish)</p>

<p>Create a shortcut to R x64 X.X.X on the desktop (or suitable place - the installers offer to create one for you)
Right-click on the shortcut and choose "Properties"
Change the "Start in:" field to the location of this script file
(Currently: "C:\Users\atriou\Dropbox\Classes and York Stuff\Dissertation and brainstorming\Scripts\R")
That will ensure that R can find this script when executed from within the R shell</p>

<p>Install additional packages from the package manager including at least the following:</p>

<p>chron
curl
data.table
DBI
dplyr
DT
FactoMineR
FSA: <a href="https://www.rforge.net/FSA/Installation.html">https://www.rforge.net/FSA/Installation.html</a> -&gt; Not needed with dplyr::filter, which is much faster
ggplot2
googleVis <a href="https://cran.r-project.org/web/packages/googleVis/index.html">https://cran.r-project.org/web/packages/googleVis/index.html</a> -&gt; Not currently used. Seems buggy.
graphics
gWidgets
gWidgetsRGtk2
highr
longitudinalData
lubridate
Paneldata
panelaggregation
panelAR
plyr
Rcmdr (and its many plugins)
RCurl
rggobi
RGraphics
RGtk2
RGtk2Extras
RJDBC
RMySQL
RODBC
RODBCext
RQDA
sqldf
sqlutils
stargazer
tidyr
timeDate
utils
xkcd
xlsx
zipcode
...
and all of the recursive dependencies of these listed packages (should do it automatically for you)
This might take a while...</p>

<p>INSTALL AND CONFIGURE PHP</p>

<p>Download the latest zip installer package from <a href="http://windows.php.net/download/">http://windows.php.net/download/</a>
This version uses PHP 5.6.14, which was current release version at the time</p>

<p>Extract the contents of the zip file to whatever directory you want to keep PHP in
I chose "C:\php"</p>

<p>Create a new file called "php.ini" in the PHP directory
Edit the php.ini file to include the following lines:</p>

<p>extension=php_curl.dll
extension=php_openssl.dll
extension=php_intl.dll
extension=php_mbstring.dll
memory_limit = 2048M</p>

<p>Open the ext director in the PHP directory
Copy php_curl.dll, php_openssl.dll, php_intl.dll, and php_mbstring.dll to the root PHP directory</p>

<p>Change the system PATH environment variable to include "C:\php" or whatever directory you chose for the PHP install</p>

<p>Download the latest version of PHP Composer from: <a href="https://getcomposer.org/Composer-Setup.exe">https://getcomposer.org/Composer-Setup.exe</a>
Run the installer with default settings</p>

<p>Follow the instructions here to install "PHP Domain Parser" using Composer: <a href="https://github.com/jeremykendall/php-domain-parser/blob/develop/README.md">https://github.com/jeremykendall/php-domain-parser/blob/develop/README.md</a></p>

<p>The small php program "domainparser.php" is provided and uses in the installed library</p>
        </section>

        <footer>
          Bugzilla analysis in r is maintained by <a href="https://github.com/mekkim">mekkim</a><br>
          This page was generated by <a href="https://pages.github.com">GitHub Pages</a>. Tactile theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.
        </footer>

        
      </div>
    </div>
  </body>
</html>
